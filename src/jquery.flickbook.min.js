(function(){$.fn.flickbook=function(a){function k(a,b,c){function d(b){var c=$('<img style="display:none" src="'+a[b]+'">').load(function(){f[b+e]=a[b];g[a[b]]=!0;c.remove()})}var e=0,f=[],g=$.fn.flickbook.fetchedImages;c&&b!=a[0]&&(f[0]=b,g[b]=!0,e=1);b=0;for(c=a.length;b<c;b++)g[a[b]]?f[b+e]=a[b]:d(b);return f}var a=$.extend($.fn.flickbook.defaults,a),j=$.fn.on?"on":"bind";if("string"===typeof a.images)a.images=a.images.split(",");else if(!$.isArray(a.images))return;(function(){var i=a.startEvent.split(" ").sort(),
b=a.stopEvent.split(" ").sort(),c=[],d=[],e=0,f=i.length;a:for(;e<f;e++){for(var g=0,h=b.length;g<h;g++)if(i[e]===b[g]){d.push(i[e]);b.splice(g,1);continue a}c.push(i[e])}a.startEvents=c.join(" ");a.stopEvents=b.join(" ");a.stopStartEvents=d.join(" ")})();return this.each(function(){function i(){f||(g=setInterval(function(){h=(h+1)%e;b()},a.speed),f=!0)}function b(){for(var a=0;!d[h]&&a<e;)h=(h+1)%e,a++;c.attr("src",d[h])}var c=$(this),d,e,f=!1,g,h=-1;d=c.data("flickbook-images")||a.images.slice();
if(!c.hasClass("flickbooked"))$.isArray(d)||(d=d.split(",")),e=d.length,d=k(d,c.attr("src"),a.keepOriginalImage),c.data("flickbook-images",d),c[j]("start.flickbook",i)[j]("stop.flickbook",function(){f&&(clearInterval(g),"reset"===a.onStop&&(h=0),b(),f=!1)})[j](a.stopEvents,function(){c.trigger("stop.flickbook")})[j](a.startEvents,function(){c.trigger("start.flickbook")})[j](a.stopStartEvents,function(){f?c.trigger("stop.flickbook"):c.trigger("start.flickbook")}),a.autoStart&&i()})};$.fn.flickbook.defaults=
{images:null,padImageIntegersBy:0,speed:100,root:"",startEvent:"mouseover",stopEvent:"mouseout",autoStart:!1,onStop:"reset",keepOriginalImage:!0,random:!1};$.fn.flickbook.fetchedImages={}})();